<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TCP Streamer</title>
    <script type="module" src="/main.js" defer></script>
  </head>
  <body>
    <div class="glass-panel">
      <div class="header">
        <h1>TCP Streamer</h1>
        <div class="status-badge" id="status-badge">
          <span class="status-dot"></span>
          <span id="status-text">Ready</span>
        </div>
      </div>

      <!-- Statistics Bar -->
      <div class="stats-bar" id="stats-bar" style="display: none;">
        <div class="stat-item">
          <span class="stat-label">Uptime</span>
          <span class="stat-value" id="stat-uptime">--:--</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Transferred</span>
          <span class="stat-value" id="stat-bytes">0 MB</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Bitrate</span>
          <span class="stat-value" id="stat-bitrate">0 kbps</span>
        </div>
      </div>
      
      <!-- Tabs Navigation -->
      <div class="tabs-nav">
        <button class="tab-btn active" data-tab="tab-connection">Connection</button>
        <button class="tab-btn" data-tab="tab-audio">Audio</button>
        <button class="tab-btn" data-tab="tab-settings">Settings</button>
        <button class="tab-btn" data-tab="tab-logs">Logs</button>
      </div>

      <div class="tab-content">
        <!-- Tab 1: Connection -->
        <div class="tab-pane active" id="tab-connection">
            <div class="settings-card">
                <h3>Source</h3>
                <div class="control-group">
                    <label for="device-select">Input Device</label>
                    <div class="select-wrapper">
                    <select id="device-select">
                        <option value="" disabled selected>Loading devices...</option>
                    </select>
                    </div>
                </div>
            </div>

            <div class="settings-card">
                <h3>Destination</h3>
                <div class="row">
                    <div class="control-group">
                    <label for="ip-input">Target IP</label>
                    <input type="text" id="ip-input" placeholder="192.168.1.100" />
                    </div>
                    <div class="control-group">
                    <label for="port-input">Port</label>
                    <input type="number" id="port-input" placeholder="1704" value="1704" />
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 2: Audio -->
        <div class="tab-pane" id="tab-audio">
            <!-- Visualizer Card -->
            <div class="settings-card">
                <div class="section-header">
                    <h3>Visualizer</h3>
                    <label class="switch">
                        <input type="checkbox" id="visualizer-toggle">
                        <span class="slider round"></span>
                    </label>
                </div>
                <canvas id="visualizer-canvas" width="320" height="80"></canvas>
            </div>

            <!-- EQ Card -->
            <div class="settings-card">
                <div class="section-header" id="eq-header">
                    <h3>Equalizer</h3>
                    <label class="switch">
                        <input type="checkbox" id="eq-toggle">
                        <span class="slider round"></span>
                    </label>
                </div>
                <div class="eq-controls" id="eq-controls">
                    <div class="eq-band">
                        <span class="eq-label">Bass</span>
                        <input type="range" id="eq-bass" min="-12" max="12" value="0" step="0.5">
                        <span id="eq-bass-val" class="eq-value">0dB</span>
                    </div>
                    <div class="eq-band">
                        <span class="eq-label">Mid</span>
                        <input type="range" id="eq-mid" min="-12" max="12" value="0" step="0.5">
                        <span id="eq-mid-val" class="eq-value">0dB</span>
                    </div>
                    <div class="eq-band">
                        <span class="eq-label">Treble</span>
                        <input type="range" id="eq-treble" min="-12" max="12" value="0" step="0.5">
                        <span id="eq-treble-val" class="eq-value">0dB</span>
                    </div>
                </div>
            </div>

            <!-- Audio Settings Card -->
            <div class="settings-card">
                <h3>Audio Settings</h3>
                <div class="control-group">
                    <label for="gain-slider">Volume Gain <span id="gain-value" class="value-display">100%</span></label>
                    <input type="range" id="gain-slider" min="0" max="2" step="0.01" value="1.0">
                </div>
                
                <div class="row">
                <div class="control-group">
                    <label for="sample-rate">Sample Rate</label>
                    <div class="select-wrapper">
                    <select id="sample-rate">
                        <option value="48000">48 kHz</option>
                        <option value="44100">44.1 kHz</option>
                    </select>
                    </div>
                </div>
                <div class="control-group">
                    <label for="buffer-size">Buffer Size</label>
                    <div class="select-wrapper">
                    <select id="buffer-size">
                        <option value="256">Low (256)</option>
                        <option value="512">Medium (512)</option>
                        <option value="1024" selected>High (1024)</option>
                        <option value="2048">Max (2048)</option>
                    </select>
                    </div>
                </div>
                </div>
            </div>
        </div>

        <!-- Tab 3: Settings -->
        <div class="tab-pane" id="tab-settings">
            <!-- Profiles Card -->
            <div class="settings-card">
                <h3>Configuration Profiles</h3>
                <div class="profiles-section" id="profiles-section" style="display: block; background: none; padding: 0;">
                    <div class="control-group">
                        <label for="profile-select">Select Profile</label>
                        <select id="profile-select" class="profile-select"></select>
                    </div>
                    <div class="profile-actions" style="margin-top: 10px; justify-content: flex-start;">
                        <button id="btn-save-profile" class="btn-small" title="Save current settings to this profile">üíæ Save</button>
                        <button id="btn-new-profile" class="btn-small" title="Create a new profile">‚ûï New</button>
                        <button id="btn-delete-profile" class="btn-small btn-danger" title="Delete this profile">üóëÔ∏è Delete</button>
                    </div>
                    <div class="new-profile-input" id="new-profile-container" style="display: none;">
                        <input type="text" id="new-profile-name" placeholder="Enter Profile Name">
                        <button id="btn-confirm-profile" class="btn-small btn-success">‚úì Create</button>
                        <button id="btn-cancel-profile" class="btn-small">‚úï Cancel</button>
                    </div>
                </div>
            </div>

            <!-- Automation Card -->
            <div class="settings-card">
                <h3>Automation</h3>
                <div class="control-group">
                    <label class="checkbox-container">
                        <input type="checkbox" id="autostart-check">
                        <span class="checkmark"></span>
                        Auto-start on launch
                    </label>
                    <label class="checkbox-container">
                        <input type="checkbox" id="autostream-check">
                        <span class="checkmark"></span>
                        Auto-stream on load
                    </label>
                    <label class="checkbox-container">
                        <input type="checkbox" id="autoreconnect-check">
                        <span class="checkmark"></span>
                        Auto-reconnect
                    </label>
                </div>
            </div>
        </div>

        <!-- Tab 4: Logs -->
        <div class="tab-pane" id="tab-logs">
             <div class="settings-card" style="margin-top: 0;">
                <div class="logs-header" style="background: none; padding-left: 0; padding-right: 0; border-radius: 0; margin-bottom: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                  <h3 style="margin: 0; border: none; padding: 0;">Activity Log</h3>
                  <button class="clear-logs-btn" id="clear-logs-btn">Clear</button>
                </div>
                <div class="logs-container" id="logs-container" style="height: 300px;">
                  <!-- Logs -->
                </div>
              </div>
        </div>
      </div>

      <!-- Main Action Footer -->
      <div class="footer">
        <button id="toggle-btn" class="glow-button">
          <span class="btn-text">Start Streaming</span>
        </button>
      </div>

      <!-- Footer with Credits -->
      <div class="app-footer">
        Made with ‚ô• by Josue O.A / NaturalDevCR
      </div>
    </div>
  </body>
</html>
